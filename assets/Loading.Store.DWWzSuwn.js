import{r as T}from"./index.BJfUAbRs.js";var E={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L;function C(){if(L)return g;L=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,o){var i=null;if(o!==void 0&&(i=""+o),r.key!==void 0&&(i=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:t,type:s,key:i,ref:r!==void 0?r:null,props:o}}return g.Fragment=e,g.jsx=n,g.jsxs=n,g}var M;function G(){return M||(M=1,E.exports=C()),E.exports}var we=G();let l=[],f=0;const v=4;let A=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(s){return n.lc=e.push(s),()=>{for(let o=f+v;o<l.length;)l[o]===s?l.splice(o,v):o+=v;let r=e.indexOf(s);~r&&(e.splice(r,1),--n.lc||n.off())}},notify(s,r){let o=!l.length;for(let i of e)l.push(i,n.value,s,r);if(o){for(f=0;f<l.length;f+=v)l[f](l[f+1],l[f+2],l[f+3]);l.length=0}},off(){},set(s){let r=n.value;r!==s&&(n.value=s,n.notify(r))},subscribe(s){let r=n.listen(s);return s(n.value),r},value:t};return n};function Q(t,e){let n=J(e),s=t;for(let r of n){if(s===void 0)break;s=s[r]}return s}function U(t,e,n){return N(t??{},J(e),n)}function N(t,e,n){let s=e[0],r=Array.isArray(t)?[...t]:{...t};return e.length===1?(n===void 0?Array.isArray(r)?r.splice(s,1):delete r[s]:r[s]=n,r):(X(r,s,e[1]),r[s]=N(r[s],e.slice(1),n),r)}const I=/(.*)\[(\d+)\]/;function J(t){return t.split(".").flatMap(e=>O(e))}function O(t){if(I.test(t)){let[,e,n]=t.match(I);return[...O(e),n]}return[t]}const W=/^\d+$/;function X(t,e,n){if(e in t)return;W.test(n)?t[e]=Array(parseInt(n,10)+1):t[e]={}}function V(t={}){let e=A(t);return e.setKey=(n,s)=>{if(Q(e.value,n)!==s){let r=e.value;e.value=U(e.value,n,s),e.notify(r,n)}},e}function z(t,e,n){let s=new Set(e).add(void 0);return t.listen((r,o,i)=>{s.has(i)&&n(r,o,i)})}let F=(t={})=>{let e=A(t);return e.setKey=function(n,s){let r=e.value;typeof s>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(r,n)):e.value[n]!==s&&(e.value={...e.value,[n]:s},e.notify(r,n))},e},S=(t,e)=>n=>{t.current!==n&&(t.current=n,e())};function ve(t,{keys:e,deps:n=[t,e]}={}){let s=T.useRef();s.current=t.get();let r=T.useCallback(i=>(S(s,i)(t.value),e?.length>0?z(t,e,S(s,i)):t.listen(S(s,i))),n),o=()=>s.current;return T.useSyncExternalStore(r,o,o)}const Z=t=>{const e=o=>{if(o==null||o===""||typeof o=="object"&&Object.keys(o).length===0)return;const i=typeof o=="string"?o:JSON.stringify(o);localStorage.setItem(t,i)},n=o=>{const i=localStorage.getItem(t);if(!i)return null;let c;try{c=JSON.parse(i)}catch(d){return console.error("Error parsing JSON from localStorage:",d),i}if(!o)return c;const m=o.split("/");let a=c;for(const d of m){if(typeof a!="object"||a===null||!(d in a))return null;a=a[d]}return a};return{set:e,get:n,remove:()=>{if(!localStorage.getItem(t)){console.log("Storage not found");return}localStorage.removeItem(t)},update:(o,i)=>{const c=n()||{},m=o.split("/");let a=c;for(let d=0;d<m.length-1;d++){const w=m[d];(typeof a[w]!="object"||a[w]===null)&&(a[w]={}),a=a[w]}a[m[m.length-1]]=i,e(c)}}},q=typeof window<"u",ee=q?window.location.pathname==="/"?"lifo/lib":window.location.pathname.split("/").filter(Boolean)[0]:"lifo/libs",te=`${ee}-preferences`,K=V();if(q){const t=Z(te),e=t.get();e&&K.set(e),K.subscribe(n=>{t.set(n),console.log(n)})}const ne=()=>{const t=window.matchMedia("(max-width: 768px)").matches,e="ontouchstart"in window||navigator.maxTouchPoints>0;return t||e},se=t=>{const n=getComputedStyle(t).overflowY,s=t.scrollHeight>t.clientHeight;return!((n==="scroll"||n==="auto"||n==="visible"&&t.scrollHeight>t.clientHeight)&&s)},x=(t,e)=>{const n=e instanceof HTMLElement?e:document.body,s=window.innerWidth-n.clientWidth,r=!ne()&&se(n);t?(n.style.overflow="",r&&(n.style.paddingRight="",document.documentElement.style.removeProperty("--padding-cut"))):(r?(n.style.paddingRight=`${s}px`,document.documentElement.style.setProperty("--padding-cut",`${s}px`)):document.documentElement.style.removeProperty("--padding-cut"),n.style.overflow="hidden")},B={set:x,show:t=>x(!0,t),hide:t=>x(!1,t)},h=F({bgColor:"#0000003b",isVisible:!1,isAnimate:!1}),H=({...t})=>{B.hide(),h.set({...t,animate:{start:{...t.animate?.start},end:{...t.animate?.end},duration:t.animate?.duration/1e3},isVisible:!0}),setTimeout(()=>{h.setKey("isAnimate",!0)},10)},re=async()=>{const t=h.get();h.setKey("isAnimate",!1),await new Promise(e=>setTimeout(e,(t.animate?.duration||.25)*1e3)),h.setKey("isVisible",!1),B.show()},oe=({...t})=>{H({...t,children:null})},ie=(t,e)=>{H({...e,children:t})},Te={show:oe,custom:ie,hide:re},ae=()=>Date.now()+Math.random();let le=0;const ce=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substring(2,8),n=(le++).toString(36);return`${t}-${n}-${e}`},ue=async(t,...e)=>{const n=performance.now();try{await t(...e)}catch(s){console.log(s)}finally{return performance.now()-n}},de=async t=>new Promise(e=>setTimeout(e,t||0)),P={IDnumber:ae,IDstring:ce,timeTracker:ue,delay:de},_=A({id:0}),u=V(),p=({...t})=>{const e=t.toastID||"init",n=u.get()[e]||[],s={...t,toastID:e,state:!0,id:t.id};return u.setKey(e,[...n,s]),_.set(n[0]||s),t.id},y=(t,e)=>p({...e,message:t,id:P.IDnumber()}),fe=(t,e)=>p({...e,children:t,id:P.IDnumber()}),me=async(t,e)=>{const n=e?.toastID||"init",s=P.IDnumber();let r;e?.loading&&(r=p({...e,message:e.loading,type:"loading",toastID:n,noDissapear:!0,id:s}));try{const o=await t();e?.success&&(r?R(n,s,{message:typeof e.success=="string"?e.success:e.success?.(o),type:"success",noDissapear:!1}):p({...e,message:typeof e.success=="string"?e.success:e.success?.(o),type:"success",toastID:n,id:s}))}catch(o){const i=typeof e?.error=="string"?e.error:e?.error?.(o);throw e?.error&&(r?R(n,r,{message:i,type:"error",noDissapear:!1}):p({...e,message:i,type:"error",toastID:n,id:s})),o}},Y=(t,e)=>{const n=u.get();if(t&&e){const r=n[t].map(o=>o.id===e?{...o,state:!1}:o);u.setKey(t,r),b.removeDelay(t,e,300);return}if(t){const r=n[t].map(o=>({...o,state:!1}));u.setKey(t,r),r.forEach(o=>b.removeDelay(t,o.id,350));return}const s=Object.keys(n).reduce((r,o)=>(r[o]=n[o].map(i=>({...i,state:!1})),r),{});u.set(s),Object.keys(n).forEach(r=>{n[r].forEach(o=>b.removeDelay(r,o.id,350))})},ge=t=>{const e=_.get();e.id&&Y(t||"init",e.id)},k=(t,e)=>{const n=u.get()[t];if(n){const s=n.filter(r=>r.id!==e);u.setKey(t,s),_.set(s[0]||{id:0})}},ye=(t,e,n)=>{setTimeout(()=>{k(t,e)},n||0)},R=(t,e,n)=>{const s=u.get();if(!s[t])return;const r=s[t].map(o=>o.id===e?{...o,...n}:o);u.setKey(t,r)},b={removeDelay:ye,updateToast:R},Ee={show:(t,e)=>y(t,e),success:(t,e)=>y(t,{...e,type:"success"}),error:(t,e)=>y(t,{...e,type:"error"}),warning:(t,e)=>y(t,{...e,type:"warning"}),info:(t,e)=>y(t,{...e,type:"info"}),custom:fe,dismiss:Y,dismissFirst:ge,remove:k,promise:me},D=F({G_fetch:!1,card_loading:!1,page_load:!0}),$=(t,e)=>{D.setKey(t,e)},he=async(t,e)=>{if(D.get()[e]){console.warn(`Promise for ${e} is already running.`);return}try{j.start(e),await t()}catch(n){console.error(`Error in Loading.promise for ${e}:`,n)}finally{j.end(e)}};if(typeof window<"u"){let t;D.subscribe(e=>{const n=document.getElementById("page-load");if(!n)return;e.page_load?(n.classList.remove("hidden"),t&&clearTimeout(t)):t=setTimeout(()=>{n.classList.add("hidden")},150)})}const j={start:t=>$(t,!0),end:t=>$(t,!1),promise:he,setKey:(t,e)=>$(t,e)};export{D as $,Te as D,Z as L,j as a,h as b,u as c,V as d,b as e,we as j,F as m,Ee as t,ve as u};
